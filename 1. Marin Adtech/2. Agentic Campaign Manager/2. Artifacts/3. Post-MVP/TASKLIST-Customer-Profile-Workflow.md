# Task List: Customer Profile Workflow Implementation

**Document Version**: 1.0  
**Created**: 2025-11-11  
**Last Updated**: 2025-11-11  
**Project Timeline**: 6-8 weeks for full implementation  
**Target**: Implement Customer Profile workflow with Target Customer, Brand Guidelines, and Budget objects  
**Framework**: TypeScript + Node.js + Express + React  
**Integration**: New feature addition to Agentic Campaign Manager Module  
**Collaborators**: GABE, VANES (working in parallel)

---

## Overview

This document provides a granular, step-by-step task list for implementing the Customer Profile workflow as outlined in the whiteboard diagram. The workflow introduces three new objects above the campaign level:

1. **Target Customer Profile**: Demographics, interests, behaviors, personas
2. **Brand Guidelines**: High-level principles + full style guide (Canva format)
3. **Budget**: Default budget settings that can be passed to Google Ads via Zilkr Dispatcher

These objects are:
- Generated by LLM for first-time users (auto-detected)
- Editable/approvable by users with live previews
- Reusable across multiple campaigns
- Version-controlled (create new version on edit, delete unused versions)
- Manageable via Settings page

**Workflow Rules**:
- Complete all tasks in a subphase before proceeding
- Pause for confirmation after each subphase completion
- Run unit tests after each subphase completion
- Do not proceed to next phase until current phase is tested and confirmed
- Follow existing Agentic Campaign Manager code patterns and architecture
- Use PowerShell syntax for all commands
- **Parallel Work**: GABE and VANES can work on different subphases simultaneously
- **Dependencies**: Check task dependencies before starting work

**Collaborator Assignments**:
- **GABE**: Backend services, API integrations, database schema, LLM integration, Zilkr Dispatcher budget integration
- **VANES**: Frontend components, UI/UX, onboarding flow, settings page, live previews

---

## Progress Summary

### Implementation Phases
- **Phase 1**: Type Definitions & Data Models (Week 1)
- **Phase 2**: Backend Services & Database (Week 2)
- **Phase 3**: LLM Generation & First-Time User Detection (Week 3)
- **Phase 4**: Frontend Components & Onboarding Flow (Week 4)
- **Phase 5**: Settings Page & Management (Week 5)
- **Phase 6**: Campaign Integration & Test Mode (Week 6)
- **Phase 7**: Recommended Enhancements (Weeks 7-8)

**Total Estimated Time**: 6-8 weeks  
**Status**: ðŸ”´ Not Started

---

## Phase 1: Type Definitions & Data Models (Week 1)

**Priority**: ðŸ”´ Critical  
**Estimated Time**: 1 week  
**Goal**: Define all TypeScript types and data structures for Customer Profile objects

### Phase 1.1: Core Type Definitions (2-3 days)

#### Task 1.1.1: Create Customer Profile Types
**Assigned to**: GABE  
**Dependencies**: None  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create TypeScript type definitions for Target Customer Profile object with demographics, interests, behaviors, and persona information.

**Tasks**:
- [ ] Create `src/types/customerProfile.types.ts`
- [ ] Define `TargetCustomerProfile` interface:
  - `id: string` - Unique identifier
  - `name: string` - Profile name (e.g., "B2B Customers", "B2C Customers")
  - `version: number` - Version number for version control
  - `isDefault: boolean` - Whether this is the default profile
  - `demographics: Demographics` - Age, gender, location, language
  - `interests: string[]` - Interest categories
  - `behaviors: Behavior[]` - Behavioral attributes
  - `personas: Persona[]` - Detailed customer personas
  - `createdAt: Date` - Creation timestamp
  - `updatedAt: Date` - Last update timestamp
  - `createdBy: string` - User ID who created it
  - `isAIGenerated: boolean` - Whether generated by LLM
  - `campaignIds: string[]` - Campaigns using this profile
- [ ] Define `Demographics` interface:
  - `age?: AgeRange` - Age range (e.g., "25-45")
  - `gender?: string[]` - Gender targeting
  - `location?: LocationTargeting` - Geographic targeting
  - `language?: string[]` - Language preferences
  - `income?: IncomeRange` - Income brackets
  - `education?: string[]` - Education levels
- [ ] Define `Persona` interface:
  - `name: string` - Persona name
  - `description: string` - Detailed description
  - `painPoints: string[]` - Customer pain points
  - `goals: string[]` - Customer goals
  - `preferredChannels: string[]` - Preferred communication channels
- [ ] Define `Behavior` interface:
  - `type: string` - Behavior type (e.g., "purchase_frequency", "device_usage")
  - `value: string` - Behavior value
  - `description?: string` - Optional description
- [ ] Export all types
- [ ] Add JSDoc comments for all interfaces

**Related Files**:
- `src/types/customerProfile.types.ts` - New file
- `backend/src/types/customerProfile.types.ts` - Backend types (create)

**Testing**:
- [ ] Verify all types compile without errors
- [ ] Test type inference in IDE
- [ ] Verify type compatibility with existing campaign types

---

#### Task 1.1.2: Create Brand Guidelines Types (Canva Format)
**Assigned to**: VANES  
**Dependencies**: None  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create TypeScript type definitions for Brand Guidelines object, starting with Canva brand guidelines format, with toggle for high-level vs. full style guide.

**Tasks**:
- [ ] Research Canva brand guidelines template structure
- [ ] Create `src/types/brandGuidelines.types.ts`
- [ ] Define `BrandGuidelines` interface:
  - `id: string` - Unique identifier
  - `name: string` - Guidelines name (e.g., "Primary Brand", "Product Line A")
  - `version: number` - Version number
  - `isDefault: boolean` - Whether this is the default
  - `mode: 'high-level' | 'full-style'` - Toggle between modes
  - `highLevel: HighLevelGuidelines` - High-level principles
  - `fullStyle?: FullStyleGuide` - Full style guide (optional)
  - `createdAt: Date` - Creation timestamp
  - `updatedAt: Date` - Last update timestamp
  - `createdBy: string` - User ID
  - `isAIGenerated: boolean` - Whether generated by LLM
  - `campaignIds: string[]` - Campaigns using this
- [ ] Define `HighLevelGuidelines` interface (Canva format):
  - `brandName: string` - Brand name
  - `tagline?: string` - Brand tagline
  - `mission?: string` - Brand mission
  - `values: string[]` - Core brand values
  - `voice: VoiceGuidelines` - Brand voice and tone
  - `personality: string[]` - Brand personality traits
  - `targetAudience: string` - Target audience description
  - `keyMessages: string[]` - Key messaging points
  - `doAndDonts: DoAndDonts` - Do's and don'ts
- [ ] Define `FullStyleGuide` interface (Canva format):
  - `logo: LogoGuidelines` - Logo usage rules
  - `colors: ColorPalette` - Color palette and usage
  - `typography: TypographyGuidelines` - Font usage
  - `imagery: ImageryGuidelines` - Image style
  - `spacing: SpacingGuidelines` - Spacing rules
  - `icons: IconGuidelines` - Icon usage
  - `templates: TemplateGuidelines` - Template examples
- [ ] Define supporting interfaces:
  - `VoiceGuidelines`: tone, style, examples
  - `LogoGuidelines`: primary, secondary, usage rules, clear space
  - `ColorPalette`: primary, secondary, accent, neutral colors with hex codes
  - `TypographyGuidelines`: heading, body, caption fonts
  - `ImageryGuidelines`: style, composition, filters
  - `SpacingGuidelines`: margins, padding, grid system
  - `IconGuidelines`: style, size, usage
  - `TemplateGuidelines`: examples, layouts
  - `DoAndDonts`: do's array, don'ts array
- [ ] Export all types
- [ ] Add JSDoc comments

**Related Files**:
- `src/types/brandGuidelines.types.ts` - New file
- `backend/src/types/brandGuidelines.types.ts` - Backend types (create)

**Canva Format Reference**:
- Brand name, tagline, mission
- Brand values (3-5 core values)
- Voice and tone guidelines
- Brand personality (3-5 traits)
- Target audience description
- Key messages (3-5 messages)
- Do's and don'ts
- Logo guidelines (primary, secondary, clear space)
- Color palette (primary, secondary, accent, neutral)
- Typography (headings, body, captions)
- Imagery style
- Spacing and layout
- Icon style
- Template examples

**Testing**:
- [ ] Verify all types compile
- [ ] Test toggle between high-level and full-style modes
- [ ] Verify type compatibility

---

#### Task 1.1.3: Create Budget Types (Zilkr-Compatible)
**Assigned to**: GABE  
**Dependencies**: Task 1.1.1 (for reference)  
**Status**: ðŸ”´ Open  
**Estimated Time**: 3-4 hours

**Description**:
Create TypeScript type definitions for Budget object that can be passed to Google Ads via Zilkr Dispatcher without errors.

**Tasks**:
- [ ] Review `backend/src/types/zilkrDispatcher.types.ts` for budget requirements
- Review `backend/src/services/zilkrDispatcherService.ts` for budget creation
- [ ] Create `src/types/budget.types.ts`
- [ ] Define `Budget` interface:
  - `id: string` - Unique identifier
  - `name: string` - Budget name (e.g., "Monthly Budget", "Q1 Budget")
  - `version: number` - Version number
  - `isDefault: boolean` - Whether this is the default
  - `amount: number` - Budget amount in dollars
  - `currency: string` - Currency code (default: "USD")
  - `period: BudgetPeriod` - Budget period (daily, weekly, monthly, total)
  - `deliveryMethod: 'STANDARD' | 'ACCELERATED'` - Delivery method for Google Ads
  - `allocation?: BudgetAllocation` - Optional allocation breakdown
  - `createdAt: Date` - Creation timestamp
  - `updatedAt: Date` - Last update timestamp
  - `createdBy: string` - User ID
  - `isAIGenerated: boolean` - Whether generated by LLM
  - `campaignIds: string[]` - Campaigns using this budget
  - `zilkrBudgetId?: string` - Zilkr budget resource ID (if created)
  - `zilkrResourceName?: string` - Zilkr resource name
- [ ] Define `BudgetPeriod` type:
  - `type: 'daily' | 'weekly' | 'monthly' | 'total'`
  - `value: number` - Amount for the period
- [ ] Define `BudgetAllocation` interface:
  - `byPlatform?: Record<string, number>` - Allocation by platform
  - `byCampaign?: Record<string, number>` - Allocation by campaign
  - `reserve?: number` - Reserve amount
- [ ] Define `ZilkrBudgetCompatible` interface:
  - Ensures budget can be converted to `ZilkrBudgetRequest`
  - `toZilkrRequest(): ZilkrBudgetRequest` - Conversion method
- [ ] Export all types
- [ ] Add JSDoc comments

**Related Files**:
- `src/types/budget.types.ts` - New file
- `backend/src/types/budget.types.ts` - Backend types (create)
- `backend/src/types/zilkrDispatcher.types.ts` - Reference for compatibility

**Testing**:
- [ ] Verify budget types compile
- [ ] Test conversion to `ZilkrBudgetRequest`
- [ ] Verify compatibility with Zilkr Dispatcher service
- [ ] Test budget period calculations

---

#### Task 1.1.4: Create Customer Profile Container Type
**Assigned to**: GABE  
**Dependencies**: Tasks 1.1.1, 1.1.2, 1.1.3  
**Status**: ðŸ”´ Open  
**Estimated Time**: 2-3 hours

**Description**:
Create a container type that groups the three objects together for account-level management.

**Tasks**:
- [ ] Create `src/types/customerProfileContainer.types.ts`
- [ ] Define `CustomerProfileContainer` interface:
  - `id: string` - Container ID
  - `name: string` - Container name (e.g., "Default Profile Set")
  - `targetCustomerProfileId: string` - Reference to Target Customer Profile
  - `brandGuidelinesId: string` - Reference to Brand Guidelines
  - `budgetId: string` - Reference to Budget
  - `isDefault: boolean` - Whether this is the default container
  - `createdAt: Date` - Creation timestamp
  - `updatedAt: Date` - Last update timestamp
  - `campaignIds: string[]` - Campaigns using this container
- [ ] Define `AccountProfileStatus` interface:
  - `hasTargetCustomerProfile: boolean` - Whether account has at least one
  - `hasBrandGuidelines: boolean` - Whether account has at least one
  - `hasBudget: boolean` - Whether account has at least one
  - `isFirstTimeUser: boolean` - Whether all three are missing
  - `defaultContainerId?: string` - Default container ID if exists
- [ ] Export all types
- [ ] Add JSDoc comments

**Related Files**:
- `src/types/customerProfileContainer.types.ts` - New file
- `backend/src/types/customerProfileContainer.types.ts` - Backend types (create)

**Testing**:
- [ ] Verify container types compile
- [ ] Test first-time user detection logic
- [ ] Verify account status calculation

---

### Phase 1.2: Update Campaign Types (1-2 days)

#### Task 1.2.1: Add Customer Profile References to Campaign
**Assigned to**: GABE  
**Dependencies**: Task 1.1.4  
**Status**: ðŸ”´ Open  
**Estimated Time**: 2-3 hours

**Description**:
Update campaign types to include references to Customer Profile objects, allowing campaigns to use default or custom profiles.

**Tasks**:
- [ ] Read `src/types/campaign.types.ts`
- [ ] Update `Campaign` interface:
  - Add `customerProfileContainerId?: string` - Reference to container
  - Add `targetCustomerProfileId?: string` - Override target customer (optional)
  - Add `brandGuidelinesId?: string` - Override brand guidelines (optional)
  - Add `budgetId?: string` - Override budget (optional)
  - Add `usesDefaultProfile: boolean` - Whether using default container
- [ ] Update `CampaignPlan` interface (in `ai.types.ts`):
  - Add `customerProfile?: CustomerProfileContainer` - Full profile data (for generation)
  - Add `budgetOverride?: Budget` - Campaign-specific budget override
- [ ] Export updated types
- [ ] Update JSDoc comments

**Related Files**:
- `src/types/campaign.types.ts` - Update existing
- `src/types/ai.types.ts` - Update existing

**Testing**:
- [ ] Verify campaign types compile
- [ ] Test campaign creation with profile references
- [ ] Test campaign creation without profile references (backward compatibility)

---

## Phase 2: Backend Services & Database (Week 2)

**Priority**: ðŸ”´ Critical  
**Estimated Time**: 1 week  
**Goal**: Implement backend services and database schema for Customer Profile objects

### Phase 2.1: Database Schema (2-3 days)

#### Task 2.1.1: Design Database Schema
**Assigned to**: GABE  
**Dependencies**: Phase 1 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Design database schema for storing Customer Profile objects with versioning support.

**Tasks**:
- [ ] Design `target_customer_profiles` table:
  - Primary key, foreign keys, indexes
  - JSON columns for demographics, personas, behaviors
  - Version tracking columns
  - Soft delete support
- [ ] Design `brand_guidelines` table:
  - Primary key, foreign keys, indexes
  - JSON columns for high-level and full-style guide
  - Version tracking columns
  - Soft delete support
- [ ] Design `budgets` table:
  - Primary key, foreign keys, indexes
  - Budget amount, currency, period columns
  - Zilkr integration columns (budget ID, resource name)
  - Version tracking columns
  - Soft delete support
- [ ] Design `customer_profile_containers` table:
  - Primary key, foreign keys to three objects
  - Default flag
  - Version tracking
- [ ] Design `campaign_profile_usage` junction table:
  - Links campaigns to profile objects
  - Tracks which version was used
  - Prevents deletion of profiles in use
- [ ] Create migration files
- [ ] Document schema decisions

**Related Files**:
- `backend/src/database/migrations/XXXX_create_customer_profiles.sql` - New
- `backend/src/database/schema/customerProfiles.schema.ts` - New (if using ORM)

**Testing**:
- [ ] Test migration scripts
- [ ] Verify foreign key constraints
- [ ] Test version tracking
- [ ] Test soft delete functionality

---

#### Task 2.1.2: Create Database Models/Repositories
**Assigned to**: GABE  
**Dependencies**: Task 2.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create database models or repositories for CRUD operations on Customer Profile objects.

**Tasks**:
- [ ] Create `backend/src/repositories/targetCustomerProfileRepository.ts`:
  - `create(profile: TargetCustomerProfile): Promise<TargetCustomerProfile>`
  - `getById(id: string): Promise<TargetCustomerProfile | null>`
  - `getByAccountId(accountId: string): Promise<TargetCustomerProfile[]>`
  - `getDefault(accountId: string): Promise<TargetCustomerProfile | null>`
  - `update(id: string, updates: Partial<TargetCustomerProfile>): Promise<TargetCustomerProfile>`
  - `createVersion(id: string, newVersion: TargetCustomerProfile): Promise<TargetCustomerProfile>`
  - `delete(id: string): Promise<void>` (with usage check)
  - `getVersions(id: string): Promise<TargetCustomerProfile[]>`
- [ ] Create `backend/src/repositories/brandGuidelinesRepository.ts` (same pattern)
- [ ] Create `backend/src/repositories/budgetRepository.ts` (same pattern)
- [ ] Create `backend/src/repositories/customerProfileContainerRepository.ts`:
  - `create(container: CustomerProfileContainer): Promise<CustomerProfileContainer>`
  - `getDefault(accountId: string): Promise<CustomerProfileContainer | null>`
  - `getByAccountId(accountId: string): Promise<CustomerProfileContainer[]>`
  - `update(id: string, updates: Partial<CustomerProfileContainer>): Promise<CustomerProfileContainer>`
  - `delete(id: string): Promise<void>` (with usage check)
- [ ] Create `backend/src/repositories/accountProfileStatusRepository.ts`:
  - `getStatus(accountId: string): Promise<AccountProfileStatus>`
  - `checkFirstTimeUser(accountId: string): Promise<boolean>`
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/repositories/targetCustomerProfileRepository.ts` - New
- `backend/src/repositories/brandGuidelinesRepository.ts` - New
- `backend/src/repositories/budgetRepository.ts` - New
- `backend/src/repositories/customerProfileContainerRepository.ts` - New
- `backend/src/repositories/accountProfileStatusRepository.ts` - New

**Testing**:
- [ ] Test all CRUD operations
- [ ] Test version creation
- [ ] Test deletion with usage checks
- [ ] Test default profile retrieval
- [ ] Test first-time user detection

---

### Phase 2.2: Backend Services (2-3 days)

#### Task 2.2.1: Create Customer Profile Service
**Assigned to**: GABE  
**Dependencies**: Task 2.1.2  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service layer for Customer Profile operations with business logic.

**Tasks**:
- [ ] Create `backend/src/services/customerProfileService.ts`:
  - `createProfile(data: CreateProfileInput, accountId: string): Promise<TargetCustomerProfile>`
  - `getProfile(id: string, accountId: string): Promise<TargetCustomerProfile>`
  - `listProfiles(accountId: string): Promise<TargetCustomerProfile[]>`
  - `updateProfile(id: string, updates: UpdateProfileInput, accountId: string): Promise<TargetCustomerProfile>` (creates new version)
  - `deleteProfile(id: string, accountId: string): Promise<void>` (checks usage)
  - `setDefaultProfile(id: string, accountId: string): Promise<void>`
  - `cloneProfile(id: string, newName: string, accountId: string): Promise<TargetCustomerProfile>`
  - `getProfileVersions(id: string, accountId: string): Promise<TargetCustomerProfile[]>`
- [ ] Add validation logic
- [ ] Add authorization checks (account ownership)
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/customerProfileService.ts` - New
- `backend/src/services/brandGuidelinesService.ts` - New (similar pattern)
- `backend/src/services/budgetService.ts` - New (similar pattern)

**Testing**:
- [ ] Test all service methods
- [ ] Test authorization
- [ ] Test validation
- [ ] Test error handling

---

#### Task 2.2.2: Create Budget-Zilkr Integration Service
**Assigned to**: GABE  
**Dependencies**: Task 2.2.1, existing Zilkr Dispatcher service  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service to convert Budget objects to Zilkr-compatible format and create budgets via Zilkr Dispatcher.

**Tasks**:
- [ ] Read `backend/src/services/zilkrDispatcherService.ts`
- [ ] Create `backend/src/services/budgetZilkrService.ts`:
  - `convertToZilkrRequest(budget: Budget): ZilkrBudgetRequest`
  - `createBudgetInZilkr(budget: Budget, accountId: string): Promise<ZilkrBudgetResponse>`
  - `updateBudgetInZilkr(budgetId: string, budget: Budget, accountId: string): Promise<ZilkrBudgetResponse>`
  - `validateBudgetForZilkr(budget: Budget): ValidationResult`
- [ ] Integrate with `zilkrDispatcherService.createBudget()`
- [ ] Handle Zilkr budget creation errors
- [ ] Store Zilkr budget ID and resource name in Budget object
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/budgetZilkrService.ts` - New
- `backend/src/services/zilkrDispatcherService.ts` - Reference

**Testing**:
- [ ] Test budget conversion to Zilkr format
- [ ] Test budget creation via Zilkr Dispatcher
- [ ] Test error handling for invalid budgets
- [ ] Test validation logic

---

#### Task 2.2.3: Create Account Profile Status Service
**Assigned to**: GABE  
**Dependencies**: Task 2.1.2  
**Status**: ðŸ”´ Open  
**Estimated Time**: 2-3 hours

**Description**:
Create service to check account profile status and detect first-time users.

**Tasks**:
- [ ] Create `backend/src/services/accountProfileStatusService.ts`:
  - `getAccountStatus(accountId: string): Promise<AccountProfileStatus>`
  - `isFirstTimeUser(accountId: string): Promise<boolean>`
  - `hasRequiredProfiles(accountId: string): Promise<boolean>`
  - `getDefaultContainer(accountId: string): Promise<CustomerProfileContainer | null>`
- [ ] Add caching (optional)
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/accountProfileStatusService.ts` - New

**Testing**:
- [ ] Test first-time user detection
- [ ] Test account status calculation
- [ ] Test default container retrieval

---

### Phase 2.3: API Routes & Controllers (1-2 days)

#### Task 2.3.1: Create API Routes for Customer Profiles
**Assigned to**: GABE  
**Dependencies**: Task 2.2.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create REST API routes and controllers for Customer Profile CRUD operations.

**Tasks**:
- [ ] Create `backend/src/routes/customerProfiles.routes.ts`:
  - `POST /api/customer-profiles` - Create profile
  - `GET /api/customer-profiles` - List profiles
  - `GET /api/customer-profiles/:id` - Get profile
  - `PUT /api/customer-profiles/:id` - Update profile (creates version)
  - `DELETE /api/customer-profiles/:id` - Delete profile
  - `POST /api/customer-profiles/:id/clone` - Clone profile
  - `POST /api/customer-profiles/:id/set-default` - Set as default
  - `GET /api/customer-profiles/:id/versions` - Get versions
- [ ] Create `backend/src/controllers/customerProfiles.controller.ts`:
  - Implement all route handlers
  - Add request validation
  - Add error handling
  - Add response formatting
- [ ] Add authentication middleware
- [ ] Add authorization checks
- [ ] Add request/response logging
- [ ] Add API documentation (Swagger/OpenAPI)

**Related Files**:
- `backend/src/routes/customerProfiles.routes.ts` - New
- `backend/src/controllers/customerProfiles.controller.ts` - New
- `backend/src/routes/brandGuidelines.routes.ts` - New (similar)
- `backend/src/routes/budgets.routes.ts` - New (similar)

**Testing**:
- [ ] Test all API endpoints
- [ ] Test authentication
- [ ] Test authorization
- [ ] Test request validation
- [ ] Test error responses

---

#### Task 2.3.2: Create Account Status API Route
**Assigned to**: GABE  
**Dependencies**: Task 2.2.3  
**Status**: ðŸ”´ Open  
**Estimated Time**: 2-3 hours

**Description**:
Create API route to check account profile status (for first-time user detection).

**Tasks**:
- [ ] Create `backend/src/routes/accountStatus.routes.ts`:
  - `GET /api/account/status` - Get account profile status
  - `GET /api/account/is-first-time-user` - Check if first-time user
- [ ] Create `backend/src/controllers/accountStatus.controller.ts`
- [ ] Add authentication middleware
- [ ] Add caching (optional)
- [ ] Add API documentation

**Related Files**:
- `backend/src/routes/accountStatus.routes.ts` - New
- `backend/src/controllers/accountStatus.controller.ts` - New

**Testing**:
- [ ] Test account status endpoint
- [ ] Test first-time user detection
- [ ] Test caching (if implemented)

---

## Phase 3: LLM Generation & First-Time User Detection (Week 3)

**Priority**: ðŸ”´ Critical  
**Estimated Time**: 1 week  
**Goal**: Implement LLM generation for the three objects and first-time user detection

### Phase 3.1: LLM Generation Service (3-4 days)

#### Task 3.1.1: Create LLM Generation Service for Target Customer Profile
**Assigned to**: GABE  
**Dependencies**: Phase 2 complete, existing AI service  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create service to generate Target Customer Profile using LLM based on user input (product/service description, objectives, etc.).

**Tasks**:
- [ ] Read `backend/src/services/aiService.ts` to understand LLM integration
- [ ] Create `backend/src/services/customerProfileGenerationService.ts`:
  - `generateTargetCustomerProfile(input: ProfileGenerationInput): Promise<TargetCustomerProfile>`
  - Input: product/service description, objectives, industry, etc.
  - Output: Generated Target Customer Profile with demographics, personas, behaviors
- [ ] Create LLM prompt template for customer profile generation
- [ ] Parse LLM response into `TargetCustomerProfile` structure
- [ ] Add validation for generated profile
- [ ] Mark generated profiles with `isAIGenerated: true`
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/customerProfileGenerationService.ts` - New
- `backend/src/prompts/customerProfileGeneration.prompt.ts` - New (prompt template)

**LLM Prompt Structure**:
- Input: Product/service description, objectives, industry
- Output: JSON structure matching `TargetCustomerProfile`
- Include examples in prompt
- Request specific demographics, personas, behaviors

**Testing**:
- [ ] Test profile generation with various inputs
- [ ] Test response parsing
- [ ] Test validation
- [ ] Test error handling

---

#### Task 3.1.2: Create LLM Generation Service for Brand Guidelines
**Assigned to**: GABE  
**Dependencies**: Task 3.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create service to generate Brand Guidelines using LLM based on product/service description and company information.

**Tasks**:
- [ ] Create `backend/src/services/brandGuidelinesGenerationService.ts`:
  - `generateBrandGuidelines(input: BrandGuidelinesGenerationInput): Promise<BrandGuidelines>`
  - Input: product/service description, company info, existing brand assets (optional)
  - Output: Generated Brand Guidelines (high-level mode by default)
- [ ] Create LLM prompt template for brand guidelines generation
- [ ] Parse LLM response into `BrandGuidelines` structure (Canva format)
- [ ] Generate high-level guidelines first (default)
- [ ] Optionally generate full-style guide if requested
- [ ] Add validation
- [ ] Mark with `isAIGenerated: true`
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/brandGuidelinesGenerationService.ts` - New
- `backend/src/prompts/brandGuidelinesGeneration.prompt.ts` - New

**LLM Prompt Structure**:
- Input: Product/service, company info, brand assets
- Output: JSON structure matching `BrandGuidelines` (Canva format)
- Focus on high-level principles first
- Include brand voice, values, personality, do's/don'ts

**Testing**:
- [ ] Test guidelines generation
- [ ] Test high-level vs. full-style generation
- [ ] Test response parsing
- [ ] Test validation

---

#### Task 3.1.3: Create LLM Generation Service for Budget
**Assigned to**: GABE  
**Dependencies**: Task 3.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service to generate Budget recommendations using LLM based on objectives, industry, and business size.

**Tasks**:
- [ ] Create `backend/src/services/budgetGenerationService.ts`:
  - `generateBudget(input: BudgetGenerationInput): Promise<Budget>`
  - Input: objectives, industry, business size, revenue (optional)
  - Output: Generated Budget with recommended amount and period
- [ ] Create LLM prompt template for budget generation
- [ ] Parse LLM response into `Budget` structure
- [ ] Ensure budget is Zilkr-compatible (validate)
- [ ] Add validation
- [ ] Mark with `isAIGenerated: true`
- [ ] Add error handling
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/budgetGenerationService.ts` - New
- `backend/src/prompts/budgetGeneration.prompt.ts` - New

**LLM Prompt Structure**:
- Input: Objectives, industry, business size, revenue
- Output: JSON structure matching `Budget`
- Recommend daily/monthly budget based on objectives
- Ensure minimum budget requirements for Google Ads

**Testing**:
- [ ] Test budget generation
- [ ] Test Zilkr compatibility
- [ ] Test validation
- [ ] Test error handling

---

#### Task 3.1.4: Create Combined Generation Service
**Assigned to**: GABE  
**Dependencies**: Tasks 3.1.1, 3.1.2, 3.1.3  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service to generate all three objects together for first-time user onboarding.

**Tasks**:
- [ ] Create `backend/src/services/profileOnboardingService.ts`:
  - `generateAllProfiles(input: OnboardingInput): Promise<ProfileOnboardingResult>`
  - Input: product/service description, objectives, industry, business info
  - Output: All three generated objects
- [ ] Generate all three objects in parallel (Promise.all)
- [ ] Create default `CustomerProfileContainer` with generated objects
- [ ] Set container as default
- [ ] Add error handling (if one fails, handle gracefully)
- [ ] Add logging
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/profileOnboardingService.ts` - New

**Onboarding Input**:
```typescript
interface OnboardingInput {
  productServiceDescription: string;
  objectives: string[];
  industry?: string;
  businessSize?: string;
  revenue?: number;
  existingBrandAssets?: string; // URLs, descriptions
}
```

**Testing**:
- [ ] Test combined generation
- [ ] Test parallel generation
- [ ] Test error handling
- [ ] Test container creation

---

### Phase 3.2: First-Time User Detection & Onboarding API (1-2 days)

#### Task 3.2.1: Create Onboarding API Route
**Assigned to**: GABE  
**Dependencies**: Task 3.1.4  
**Status**: ðŸ”´ Open  
**Estimated Time**: 3-4 hours

**Description**:
Create API route for first-time user onboarding that generates all three objects.

**Tasks**:
- [ ] Create `backend/src/routes/onboarding.routes.ts`:
  - `POST /api/onboarding/generate-profiles` - Generate all three objects
  - `POST /api/onboarding/approve-profiles` - Approve generated profiles
  - `POST /api/onboarding/skip` - Skip onboarding (use defaults)
- [ ] Create `backend/src/controllers/onboarding.controller.ts`
- [ ] Add request validation
- [ ] Add authentication middleware
- [ ] Add error handling
- [ ] Add API documentation

**Related Files**:
- `backend/src/routes/onboarding.routes.ts` - New
- `backend/src/controllers/onboarding.controller.ts` - New

**Testing**:
- [ ] Test onboarding generation endpoint
- [ ] Test approval endpoint
- [ ] Test skip endpoint
- [ ] Test error handling

---

## Phase 4: Frontend Components & Onboarding Flow (Week 4)

**Priority**: ðŸ”´ Critical  
**Estimated Time**: 1 week  
**Goal**: Implement frontend components for onboarding flow with live previews

### Phase 4.1: Frontend Services (2-3 days)

#### Task 4.1.1: Create Customer Profile Service (Frontend)
**Assigned to**: VANES  
**Dependencies**: Phase 2.3 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create frontend service for Customer Profile API interactions.

**Tasks**:
- [ ] Create `src/services/customerProfileService.ts`:
  - `createProfile(data: CreateProfileInput): Promise<TargetCustomerProfile>`
  - `getProfile(id: string): Promise<TargetCustomerProfile>`
  - `listProfiles(): Promise<TargetCustomerProfile[]>`
  - `updateProfile(id: string, updates: UpdateProfileInput): Promise<TargetCustomerProfile>`
  - `deleteProfile(id: string): Promise<void>`
  - `cloneProfile(id: string, newName: string): Promise<TargetCustomerProfile>`
  - `setDefaultProfile(id: string): Promise<void>`
  - `getProfileVersions(id: string): Promise<TargetCustomerProfile[]>`
- [ ] Add error handling
- [ ] Add request/response interceptors
- [ ] Add TypeScript types
- [ ] Add JSDoc comments

**Related Files**:
- `src/services/customerProfileService.ts` - New
- `src/services/brandGuidelinesService.ts` - New (similar)
- `src/services/budgetService.ts` - New (similar)
- `src/services/accountStatusService.ts` - New (for status checks)

**Testing**:
- [ ] Test all service methods
- [ ] Test error handling
- [ ] Test TypeScript types

---

#### Task 4.1.2: Create Onboarding Service (Frontend)
**Assigned to**: VANES  
**Dependencies**: Task 4.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 3-4 hours

**Description**:
Create frontend service for onboarding flow.

**Tasks**:
- [ ] Create `src/services/onboardingService.ts`:
  - `checkFirstTimeUser(): Promise<boolean>`
  - `getAccountStatus(): Promise<AccountProfileStatus>`
  - `generateProfiles(input: OnboardingInput): Promise<ProfileOnboardingResult>`
  - `approveProfiles(containerId: string): Promise<void>`
  - `skipOnboarding(): Promise<void>`
- [ ] Add error handling
- [ ] Add TypeScript types
- [ ] Add JSDoc comments

**Related Files**:
- `src/services/onboardingService.ts` - New

**Testing**:
- [ ] Test all service methods
- [ ] Test error handling

---

### Phase 4.2: Onboarding Flow Components (3-4 days)

#### Task 4.2.1: Create First-Time User Detection Hook
**Assigned to**: VANES  
**Dependencies**: Task 4.1.2  
**Status**: ðŸ”´ Open  
**Estimated Time**: 2-3 hours

**Description**:
Create React hook to detect first-time users and trigger onboarding.

**Tasks**:
- [ ] Create `src/hooks/useFirstTimeUser.ts`:
  - `const { isFirstTimeUser, isLoading, checkStatus } = useFirstTimeUser()`
  - Check account status on mount
  - Cache result
  - Provide refresh method
- [ ] Add error handling
- [ ] Add loading states
- [ ] Add TypeScript types

**Related Files**:
- `src/hooks/useFirstTimeUser.ts` - New

**Testing**:
- [ ] Test hook behavior
- [ ] Test loading states
- [ ] Test error handling

---

#### Task 4.2.2: Create Onboarding Flow Component
**Assigned to**: VANES  
**Dependencies**: Task 4.2.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 8-10 hours

**Description**:
Create multi-step onboarding flow component with starred blocks for first-time users.

**Tasks**:
- [ ] Create `src/components/onboarding/OnboardingFlow.tsx`:
  - Step 1: "What is your objective?" (starred)
  - Step 2: "Tell me about your product/service?" (starred)
  - Step 3: "thinks..." (loading state)
  - Step 4: LLM generation preview with edit/approve
  - Step 5: Review all three objects
  - Step 6: Approve or edit
- [ ] Add progress indicator
- [ ] Add "Skip onboarding" option
- [ ] Add navigation between steps
- [ ] Add form validation
- [ ] Add loading states
- [ ] Add error handling
- [ ] Style with existing design system

**Related Files**:
- `src/components/onboarding/OnboardingFlow.tsx` - New
- `src/components/onboarding/OnboardingStep.tsx` - New (reusable step component)
- `src/components/onboarding/ObjectiveStep.tsx` - New
- `src/components/onboarding/ProductServiceStep.tsx` - New
- `src/components/onboarding/GenerationPreviewStep.tsx` - New

**UI Requirements**:
- Show starred blocks for required steps
- Progress indicator (e.g., "Step 2 of 6")
- "Skip onboarding" button (optional)
- Loading states during LLM generation
- Edit/approve buttons for generated content

**Testing**:
- [ ] Test onboarding flow
- [ ] Test step navigation
- [ ] Test form validation
- [ ] Test loading states
- [ ] Test error handling

---

#### Task 4.2.3: Create Live Preview Components
**Assigned to**: VANES  
**Dependencies**: Task 4.2.2  
**Status**: ðŸ”´ Open  
**Estimated Time**: 10-12 hours

**Description**:
Create live preview components for each of the three objects with edit/approve functionality.

**Tasks**:
- [ ] Create `src/components/onboarding/TargetCustomerProfilePreview.tsx`:
  - Display generated profile
  - Show "AI Generated" badge
  - Inline editing for all fields
  - Live preview updates
  - Approve/Edit buttons
- [ ] Create `src/components/onboarding/BrandGuidelinesPreview.tsx`:
  - Display generated guidelines (high-level mode)
  - Toggle between high-level and full-style
  - Show "AI Generated" badge
  - Inline editing
  - Live preview
  - Approve/Edit buttons
- [ ] Create `src/components/onboarding/BudgetPreview.tsx`:
  - Display generated budget
  - Show "AI Generated" badge
  - Inline editing
  - Live preview
  - Zilkr compatibility indicator
  - Approve/Edit buttons
- [ ] Add validation feedback
- [ ] Add loading states
- [ ] Style with existing design system

**Related Files**:
- `src/components/onboarding/TargetCustomerProfilePreview.tsx` - New
- `src/components/onboarding/BrandGuidelinesPreview.tsx` - New
- `src/components/onboarding/BudgetPreview.tsx` - New

**UI Requirements**:
- Clear "AI Generated" badges
- Inline editing with live preview
- Validation feedback
- Approve/Edit buttons
- Responsive design

**Testing**:
- [ ] Test live preview updates
- [ ] Test inline editing
- [ ] Test validation
- [ ] Test approve/edit flow

---

#### Task 4.2.4: Integrate Onboarding into App Flow
**Assigned to**: VANES  
**Dependencies**: Tasks 4.2.2, 4.2.3  
**Status**: ðŸ”´ Open  
**Estimated Time**: 3-4 hours

**Description**:
Integrate onboarding flow into main app, showing it automatically for first-time users.

**Tasks**:
- [ ] Read `src/App.tsx` or main router
- [ ] Add onboarding check on app load
- [ ] Show onboarding modal/flow if first-time user
- [ ] Redirect to campaign dashboard after onboarding
- [ ] Store onboarding completion status
- [ ] Add "Skip onboarding" option
- [ ] Handle onboarding errors gracefully

**Related Files**:
- `src/App.tsx` - Update existing
- `src/components/onboarding/OnboardingModal.tsx` - New (optional modal wrapper)

**Testing**:
- [ ] Test onboarding trigger
- [ ] Test redirect after completion
- [ ] Test skip functionality
- [ ] Test error handling

---

## Phase 5: Settings Page & Management (Week 5)

**Priority**: ðŸŸ  High  
**Estimated Time**: 1 week  
**Goal**: Create Settings page for managing Customer Profile objects

### Phase 5.1: Settings Page Components (3-4 days)

#### Task 5.1.1: Create Settings Page Layout
**Assigned to**: VANES  
**Dependencies**: Phase 4 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create Settings page with tabs/sections for managing the three objects.

**Tasks**:
- [ ] Create `src/components/settings/SettingsPage.tsx`:
  - Tabs: "Customer Profiles", "Brand Guidelines", "Budgets", "Containers"
  - Navigation between tabs
  - Search/filter functionality
  - Default indicators
- [ ] Add routing (`/settings`)
- [ ] Style with existing design system
- [ ] Add responsive design

**Related Files**:
- `src/components/settings/SettingsPage.tsx` - New
- `src/routes.tsx` or router - Update to add settings route

**Testing**:
- [ ] Test page navigation
- [ ] Test tab switching
- [ ] Test search/filter
- [ ] Test responsive design

---

#### Task 5.1.2: Create Customer Profile Management Component
**Assigned to**: VANES  
**Dependencies**: Task 5.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create component for managing Target Customer Profiles (list, create, edit, delete, clone, set default).

**Tasks**:
- [ ] Create `src/components/settings/CustomerProfileManagement.tsx`:
  - List all profiles with cards/table
  - Show default indicator
  - Show "AI Generated" badges
  - Show usage count (campaigns using profile)
  - "Create New" button
  - Edit button (opens editor)
  - Delete button (with usage check)
  - Clone button
  - "Set as Default" button
  - Version history view
- [ ] Create `src/components/settings/CustomerProfileEditor.tsx`:
  - Form for editing profile
  - All fields editable
  - Validation
  - Save/Cancel buttons
  - Creates new version on save
- [ ] Add confirmation dialogs for delete
- [ ] Add success/error toasts
- [ ] Style with existing design system

**Related Files**:
- `src/components/settings/CustomerProfileManagement.tsx` - New
- `src/components/settings/CustomerProfileEditor.tsx` - New

**Testing**:
- [ ] Test profile listing
- [ ] Test create/edit/delete
- [ ] Test clone functionality
- [ ] Test set default
- [ ] Test version history
- [ ] Test usage checks

---

#### Task 5.1.3: Create Brand Guidelines Management Component
**Assigned to**: VANES  
**Dependencies**: Task 5.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 8-10 hours

**Description**:
Create component for managing Brand Guidelines with toggle between high-level and full-style modes.

**Tasks**:
- [ ] Create `src/components/settings/BrandGuidelinesManagement.tsx`:
  - List all guidelines
  - Show default indicator
  - Show "AI Generated" badges
  - Show usage count
  - Toggle between high-level and full-style view
  - Create/Edit/Delete/Clone/Set Default buttons
  - Version history
- [ ] Create `src/components/settings/BrandGuidelinesEditor.tsx`:
  - Form for editing guidelines
  - Toggle between high-level and full-style modes
  - High-level mode: Simple form
  - Full-style mode: Comprehensive form (Canva format)
  - Validation
  - Save/Cancel (creates new version)
- [ ] Add Canva-style preview
- [ ] Add file upload for brand assets (optional)
- [ ] Style with existing design system

**Related Files**:
- `src/components/settings/BrandGuidelinesManagement.tsx` - New
- `src/components/settings/BrandGuidelinesEditor.tsx` - New

**Testing**:
- [ ] Test guidelines listing
- [ ] Test toggle between modes
- [ ] Test create/edit/delete
- [ ] Test clone functionality
- [ ] Test version history

---

#### Task 5.1.4: Create Budget Management Component
**Assigned to**: VANES  
**Dependencies**: Task 5.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create component for managing Budgets with Zilkr compatibility validation.

**Tasks**:
- [ ] Create `src/components/settings/BudgetManagement.tsx`:
  - List all budgets
  - Show default indicator
  - Show "AI Generated" badges
  - Show usage count
  - Show Zilkr compatibility status
  - Create/Edit/Delete/Clone/Set Default buttons
  - Version history
- [ ] Create `src/components/settings/BudgetEditor.tsx`:
  - Form for editing budget
  - Amount, currency, period inputs
  - Delivery method selector
  - Zilkr compatibility validation
  - Live validation feedback
  - Save/Cancel (creates new version)
- [ ] Add budget calculator/helper
- [ ] Show Zilkr budget ID if synced
- [ ] Style with existing design system

**Related Files**:
- `src/components/settings/BudgetManagement.tsx` - New
- `src/components/settings/BudgetEditor.tsx` - New

**Testing**:
- [ ] Test budget listing
- [ ] Test create/edit/delete
- [ ] Test Zilkr validation
- [ ] Test clone functionality
- [ ] Test version history

---

#### Task 5.1.5: Create Container Management Component
**Assigned to**: VANES  
**Dependencies**: Task 5.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create component for managing Customer Profile Containers (grouping the three objects).

**Tasks**:
- [ ] Create `src/components/settings/ContainerManagement.tsx`:
  - List all containers
  - Show default container
  - Show usage count
  - Create/Edit/Delete/Set Default buttons
  - Container composition view (shows which profiles/guidelines/budget)
- [ ] Create `src/components/settings/ContainerEditor.tsx`:
  - Form for creating/editing container
  - Dropdowns to select profile, guidelines, budget
  - Preview of selected objects
  - Save/Cancel
- [ ] Add container comparison view (optional)
- [ ] Style with existing design system

**Related Files**:
- `src/components/settings/ContainerManagement.tsx` - New
- `src/components/settings/ContainerEditor.tsx` - New

**Testing**:
- [ ] Test container listing
- [ ] Test create/edit/delete
- [ ] Test set default
- [ ] Test composition view

---

## Phase 6: Campaign Integration & Test Mode (Week 6)

**Priority**: ðŸŸ  High  
**Estimated Time**: 1 week  
**Goal**: Integrate Customer Profile objects into campaign creation and add test campaign mode

### Phase 6.1: Campaign Creation Integration (3-4 days)

#### Task 6.1.1: Update Campaign Creation to Use Profiles
**Assigned to**: GABE  
**Dependencies**: Phase 5 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Update campaign creation workflow to use Customer Profile objects (default or custom).

**Tasks**:
- [ ] Read `src/components/CampaignCreation.tsx`
- [ ] Update campaign creation form:
  - Add "Customer Profile" section
  - Show default container (if exists)
  - Allow selection of custom container or individual overrides
  - Show profile preview
  - Allow tweaking settings for individual campaigns
- [ ] Update campaign creation service:
  - Include profile data in campaign plan
  - Use default container if no selection
  - Allow profile overrides
- [ ] Update `CampaignPlan` generation to use profile data
- [ ] Add profile usage tracking
- [ ] Test with and without profiles

**Related Files**:
- `src/components/CampaignCreation.tsx` - Update existing
- `src/services/campaignService.ts` - Update existing
- `backend/src/services/campaignService.ts` - Update existing

**Testing**:
- [ ] Test campaign creation with default profile
- [ ] Test campaign creation with custom profile
- [ ] Test campaign creation with profile overrides
- [ ] Test campaign creation without profiles (backward compatibility)

---

#### Task 6.1.2: Update Budget Integration with Zilkr
**Assigned to**: GABE  
**Dependencies**: Task 6.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Update campaign creation to use Budget object and create budget in Zilkr Dispatcher.

**Tasks**:
- [ ] Read `backend/src/services/zilkrDispatcherService.ts`
- [ ] Update campaign creation service:
  - Use Budget object from profile (or override)
  - Convert to Zilkr format using `budgetZilkrService`
  - Create budget in Zilkr before campaign creation
  - Use Zilkr budget resource reference in campaign
  - Handle budget creation errors
- [ ] Update campaign creation API:
  - Accept budget ID or budget override
  - Validate budget before campaign creation
- [ ] Add budget validation
- [ ] Add error handling

**Related Files**:
- `backend/src/services/campaignService.ts` - Update existing
- `backend/src/services/zilkrDispatcherService.ts` - Reference
- `backend/src/services/budgetZilkrService.ts` - Use existing

**Testing**:
- [ ] Test budget creation in Zilkr
- [ ] Test campaign creation with budget
- [ ] Test budget validation
- [ ] Test error handling

---

### Phase 6.2: Test Campaign Mode (2-3 days)

#### Task 6.2.1: Create Test Campaign Service
**Assigned to**: GABE  
**Dependencies**: Task 6.1.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service for test campaign mode that generates preview ads without creating actual campaigns.

**Tasks**:
- [ ] Create `backend/src/services/testCampaignService.ts`:
  - `generateTestCampaign(profile: CustomerProfileContainer, objectives: string[]): Promise<TestCampaignPreview>`
  - Generate ad groups, keywords, ad copy using profile data
  - Use brand guidelines for ad copy generation
  - Use target customer profile for keyword/audience targeting
  - Return preview (no actual campaign creation)
- [ ] Integrate with existing campaign generation services
- [ ] Add logging
- [ ] Add error handling
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/testCampaignService.ts` - New

**Testing**:
- [ ] Test test campaign generation
- [ ] Test profile integration
- [ ] Test error handling

---

#### Task 6.2.2: Create Test Campaign UI Component
**Assigned to**: VANES  
**Dependencies**: Task 6.2.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create UI component for test campaign mode with preview of generated ads.

**Tasks**:
- [ ] Create `src/components/test-campaign/TestCampaignMode.tsx`:
  - Select profile container
  - Enter objectives
  - Generate test campaign button
  - Preview generated ad groups, keywords, ad copy
  - Show how profile affects generation
  - Side-by-side comparison (with/without profile)
- [ ] Create `src/components/test-campaign/TestCampaignPreview.tsx`:
  - Display generated campaign preview
  - Highlight profile influences
  - Show brand guidelines usage
  - Show target customer targeting
- [ ] Add "Create Real Campaign" button (converts test to real)
- [ ] Style with existing design system

**Related Files**:
- `src/components/test-campaign/TestCampaignMode.tsx` - New
- `src/components/test-campaign/TestCampaignPreview.tsx` - New

**Testing**:
- [ ] Test test campaign generation
- [ ] Test preview display
- [ ] Test profile influence visualization
- [ ] Test conversion to real campaign

---

## Phase 7: Recommended Enhancements (Weeks 7-8)

**Priority**: ðŸŸ¡ Medium  
**Estimated Time**: 2 weeks  
**Goal**: Implement recommended enhancements (Customer Profile dashboard, template library, etc.)

### Phase 7.1: Customer Profile Dashboard (3-4 days)

#### Task 7.1.1: Create Customer Profile Dashboard
**Assigned to**: VANES  
**Dependencies**: Phase 6 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 8-10 hours

**Description**:
Create dedicated dashboard page for viewing and managing all Customer Profiles with usage statistics.

**Tasks**:
- [ ] Create `src/components/customer-profiles/CustomerProfileDashboard.tsx`:
  - Overview cards (total profiles, default profile, usage stats)
  - List all profiles with usage statistics
  - Quick actions (create, edit, delete, clone)
  - Filter/search functionality
  - Usage visualization (charts/graphs)
- [ ] Add routing (`/customer-profiles`)
- [ ] Style with existing design system
- [ ] Add responsive design

**Related Files**:
- `src/components/customer-profiles/CustomerProfileDashboard.tsx` - New

**Testing**:
- [ ] Test dashboard display
- [ ] Test usage statistics
- [ ] Test filtering/searching
- [ ] Test responsive design

---

### Phase 7.2: Template Library (2-3 days)

#### Task 7.2.1: Create Template Library Service
**Assigned to**: GABE  
**Dependencies**: Phase 6 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create service for pre-built Customer Profile templates by industry/use case.

**Tasks**:
- [ ] Create `backend/src/services/profileTemplateService.ts`:
  - `getTemplates(category?: string): Promise<ProfileTemplate[]>`
  - `getTemplate(id: string): Promise<ProfileTemplate>`
  - `applyTemplate(templateId: string, accountId: string): Promise<CustomerProfileContainer>`
- [ ] Create template database/JSON files:
  - E-commerce templates
  - SaaS templates
  - B2B templates
  - B2C templates
  - Industry-specific templates
- [ ] Add template metadata (name, description, category, industry)
- [ ] Add unit tests

**Related Files**:
- `backend/src/services/profileTemplateService.ts` - New
- `backend/src/data/templates/` - New directory with template files

**Testing**:
- [ ] Test template retrieval
- [ ] Test template application
- [ ] Test template categories

---

#### Task 7.2.2: Create Template Library UI
**Assigned to**: VANES  
**Dependencies**: Task 7.2.1  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create UI component for browsing and applying profile templates.

**Tasks**:
- [ ] Create `src/components/templates/TemplateLibrary.tsx`:
  - Browse templates by category/industry
  - Template cards with preview
  - "Apply Template" button
  - Template details modal
- [ ] Add routing (`/templates`)
- [ ] Style with existing design system
- [ ] Add search/filter functionality

**Related Files**:
- `src/components/templates/TemplateLibrary.tsx` - New

**Testing**:
- [ ] Test template browsing
- [ ] Test template application
- [ ] Test search/filter

---

### Phase 7.3: Profile Comparison & Bulk Operations (2-3 days)

#### Task 7.3.1: Create Profile Comparison Component
**Assigned to**: VANES  
**Dependencies**: Phase 7.1 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 6-8 hours

**Description**:
Create component for side-by-side comparison of Customer Profiles when selecting for new campaign.

**Tasks**:
- [ ] Create `src/components/customer-profiles/ProfileComparison.tsx`:
  - Select 2-3 profiles to compare
  - Side-by-side comparison view
  - Highlight differences
  - Show usage statistics
  - "Select Profile" button
- [ ] Integrate into campaign creation flow
- [ ] Style with existing design system

**Related Files**:
- `src/components/customer-profiles/ProfileComparison.tsx` - New

**Testing**:
- [ ] Test profile comparison
- [ ] Test difference highlighting
- [ ] Test profile selection

---

#### Task 7.3.2: Create Bulk Operations
**Assigned to**: VANES  
**Dependencies**: Phase 7.1 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create functionality to apply Customer Profile to multiple campaigns at once.

**Tasks**:
- [ ] Create `src/components/customer-profiles/BulkApplyProfile.tsx`:
  - Select multiple campaigns
  - Select profile to apply
  - Preview changes
  - Apply to all selected campaigns
- [ ] Create backend API endpoint:
  - `POST /api/campaigns/bulk-apply-profile`
- [ ] Add confirmation dialog
- [ ] Add success/error handling

**Related Files**:
- `src/components/customer-profiles/BulkApplyProfile.tsx` - New
- `backend/src/routes/campaigns.routes.ts` - Update existing

**Testing**:
- [ ] Test bulk profile application
- [ ] Test confirmation flow
- [ ] Test error handling

---

### Phase 7.4: Profile Inheritance Visualization (1-2 days)

#### Task 7.4.1: Create Profile Inheritance Visualization
**Assigned to**: VANES  
**Dependencies**: Phase 6 complete  
**Status**: ðŸ”´ Open  
**Estimated Time**: 4-6 hours

**Description**:
Create visualization showing which campaigns use which profiles and highlight overrides.

**Tasks**:
- [ ] Create `src/components/customer-profiles/ProfileInheritanceView.tsx`:
  - Tree/graph view showing profile â†’ campaigns
  - Highlight campaigns with overrides
  - Show override details
  - Filter by profile
- [ ] Add to Customer Profile dashboard
- [ ] Style with existing design system

**Related Files**:
- `src/components/customer-profiles/ProfileInheritanceView.tsx` - New

**Testing**:
- [ ] Test inheritance visualization
- [ ] Test override highlighting
- [ ] Test filtering

---

## Summary

### Implementation Timeline
- **Week 1**: Type Definitions & Data Models
- **Week 2**: Backend Services & Database
- **Week 3**: LLM Generation & First-Time User Detection
- **Week 4**: Frontend Components & Onboarding Flow
- **Week 5**: Settings Page & Management
- **Week 6**: Campaign Integration & Test Mode
- **Weeks 7-8**: Recommended Enhancements

### Key Features
1. âœ… Three new objects above campaign level (Target Customer Profile, Brand Guidelines, Budget)
2. âœ… LLM generation for first-time users
3. âœ… Auto-detection of first-time users
4. âœ… Live previews with edit/approve
5. âœ… Settings page for management
6. âœ… Version control (create new version on edit)
7. âœ… Multiple profiles per account
8. âœ… Default profile support
9. âœ… Campaign integration with profile selection/overrides
10. âœ… Test campaign mode
11. âœ… Zilkr Dispatcher budget integration
12. âœ… Canva-format brand guidelines with toggle
13. âœ… All recommended enhancements

### Dependencies
- Existing Zilkr Dispatcher service
- Existing AI/LLM service
- Existing campaign creation workflow
- Existing database infrastructure

### Success Criteria
- First-time users can complete onboarding in < 5 minutes
- Generated profiles are editable and approvable
- Budget objects can be passed to Zilkr Dispatcher without errors
- Campaign creation uses default profiles automatically
- Test campaign mode provides accurate previews
- Settings page allows full management of all objects
- Version control prevents data loss
- Multiple profiles supported per account

---

**Document Status**: âœ… Complete - Ready for implementation

